! WARNING: gfortran has shown some issues reading matrices of rank higher than 2 from namelists
! be careful and check values are read correctly (e.g., c_bc)

! Options for low Mach equations
&probin_common
 
  ! Problem specification
  !----------------------
  prob_type = 2 ! 0=equilibrium, 1=gaussian, 2=gradient
  dim_in = 2                       ! 2D or 3D  
  prob_lo(1:2) = 0.d0 0.d0         ! physical lo coordinate
  prob_hi(1:2) = 1.d0 1.d0         ! physical hi coordinate
  n_cells(1:2) = 64 64             ! number of cells in domain
  max_grid_size(1:2) = 32 32       ! max number of cells in a box

  ! Time-step control
  !----------------------
  fixed_dt = 1.d-5                 ! time step (if positive, fixed)
  cfl = 0.5d0                      ! max diffusive cfl number (used if fixed_dt<0) to determine time step

  ! Controls for number of steps between actions (for HydroGrid see below)
  !----------------------
  max_step = 100                    ! maximum number of time steps
  plot_int = 10                     ! Interval for writing a plotfile (for visit/amrvis)
  chk_int = 0                      ! Interval for writing a checkpoint
  prob_type = 1                    ! sets scalars, m, coefficients (see init.f90)
  restart = -1                     ! checkpoint restart number
  print_int = 1                    ! how often to output EOS drift and sum of conserved quantities

  ! stochastic forcing amplitudes (1 for physical values, 0 to run them off)
  variance_coef_mass = 1.d-8 ! global scaling epsilon for stochastic mass forcing

  ! Initial conditions
  !----------------------
  smoothing_width = 1.d0   ! scale factor for smoothing initial profile
  initial_variance = 0.d0   ! multiplicative factor for initial fluctuations
                            ! (if negative, total momentum is set to zero)

  ! Algorithm control / selection
  !----------------------
  algorithm_type = 0     ! differs from code to code.  In implicit diffusion code:
                         ! 0 = explicit trapezoidal predictor/corrector
                         ! 1 = Crank-Nicolson semi-implicit

  ! random number seed
  ! 0        = unpredictable seed based on clock
  ! positive = fixed seed
  seed = 1

  ! Boundary conditions
  !----------------------
  ! BC specifications:
  ! -1 = periodic
  ! 100 = no-slip wall      (Dir condition for normal vel; Dir velocity condition for trans vel)
  ! 101 = no-slip reservoir (Dir condition for normal vel; Dir velocity condition for trans vel)
  ! 200 = slip wall         (Dir condition for normal vel; Dir traction condition for trans vel)
  ! 201 = slip reservoir    (Dir condition for normal vel; Dir traction condition for trans vel)
  ! For a complete list see bc.f90
  bc_lo(1:2) = 101 101
  bc_hi(1:2) = 101 101

  ! Control for analyze_spectra.90 for calling HydroGrid
  !----------------------
  hydro_grid_int = 0    ! How often to call updateHydroGrid
                        ! 0 if never
                        ! negative for projectHydroGrid custom analysis
                        ! positive for updateHydroGrid

  project_dir = 0         ! Projection direction (1=x, 2=y, 3=z)
  ! Meaning: 0=analyze 3D data only (no projection needed for HydroGrid, 
  !          but still need projection if stats_int>0)
  ! +dim=project along dim then analyze 2D only,
  ! -dim=analyze 3D and then project along dim so we also analyze 2D data
  ! It is better to use the conserved variables but it does not quite work for staggered

  max_grid_projection(1:1) = 128 ! parallelization parameters
  stats_int = -1                 ! Project grid for analysis
                                 ! If positive, how often to compute mean and 
                                 ! standard deviation over reduced dimensions
  n_steps_save_stats = -1 ! How often to dump HydroGrid output files
  n_steps_skip = 0        ! How many steps to skip
  analyze_conserved = F   ! Should we use conserved variables for the analysis
                          ! (does not work well)
  center_snapshots = F    ! Should we use cell-centered momenta for the analysis
                          ! (will smooth fluctuations)

/

! reaction/diffusion number fraction code
&probin_reactdiff

  nspecies = 3

  mg_verbose = 0
  cg_verbose = 0

  avg_type = 1

  D_Fick(1:3) = 1.d0 1.d0 1.d0

  n_init_in(1:3) = 0.1d0 1.0d0 10.0d0 ! Dimension is (nspecies) 
  ! n_i boundary conditions (dir,lohi,species)
  n_bc(1:2,1:2,1:3) = 1.d0 ! Does array syntax work here???

/
